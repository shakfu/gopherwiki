{{define "generic_content"}}
{{if .breadcrumbs}}
<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="/"><i class="fas fa-home"></i></a></li>
        {{range .breadcrumbs}}
        <li class="breadcrumb-item"><a href="/{{.Path}}">{{.Name}}</a></li>
        {{end}}
        <li class="breadcrumb-item active">Attachments</li>
    </ol>
</nav>
{{end}}

<h1>{{.pagename}} - Attachments</h1>

{{if .files}}
<table class="table table-striped">
    <thead>
        <tr>
            <th>Filename</th>
            <th>Type</th>
        </tr>
    </thead>
    <tbody>
        {{range .files}}
        <tr>
            <td><a href="{{.url}}">{{.filename}}</a></td>
            <td>{{.mimetype}}</td>
        </tr>
        {{end}}
    </tbody>
</table>
{{else}}
<p class="text-muted">No attachments yet.</p>
{{end}}

<hr>

<h3>Upload New Attachment</h3>
<form action="/{{.pagepath}}/attachments" method="post" enctype="multipart/form-data">
    <div class="form-group">
        <input type="file" name="file" class="form-control-file" required>
    </div>
    <div class="form-group">
        <label for="message">Commit message (optional)</label>
        <input type="text" name="message" id="message" class="form-control" placeholder="Added attachment">
    </div>
    <button type="submit" class="btn btn-primary">Upload</button>
</form>
{{end}}
